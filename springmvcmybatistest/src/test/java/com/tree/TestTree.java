package com.tree;

import com.alibaba.fastjson.JSON;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * @Author tom
 * @Date 2018-05-07 17:49
 */

public class TestTree {
  private final static String tree="{\"type\":[{\"text\":\"菜单\",\"value\":\"1\"},{\"text\":\"链接\",\"value\":\"2\"},{\"text\":\"按钮\",\"value\":\"3\"}],\"menuTree\":[{\"id\":16,\"pId\":0,\"name\":\"客户管理\"},{\"id\":18,\"pId\":16,\"name\":\"会员管理\"},{\"id\":32,\"pId\":20,\"name\":\"活动设置\"},{\"id\":36,\"pId\":118,\"name\":\"客户细分\"},{\"id\":38,\"pId\":37,\"name\":\"优惠券模板\"},{\"id\":45,\"pId\":28,\"name\":\"菜单管理\"},{\"id\":47,\"pId\":42,\"name\":\"添加\"},{\"id\":51,\"pId\":35,\"name\":\"开始审核\"},{\"id\":52,\"pId\":32,\"name\":\"添加\"},{\"id\":57,\"pId\":39,\"name\":\"添加\"},{\"id\":60,\"pId\":40,\"name\":\"添加\"},{\"id\":63,\"pId\":41,\"name\":\"添加\"},{\"id\":66,\"pId\":34,\"name\":\"添加\"},{\"id\":69,\"pId\":18,\"name\":\"添加\"},{\"id\":73,\"pId\":43,\"name\":\"添加\"},{\"id\":77,\"pId\":38,\"name\":\"添加\"},{\"id\":79,\"pId\":36,\"name\":\"添加\"},{\"id\":91,\"pId\":169,\"name\":\"任务管理\"},{\"id\":101,\"pId\":181,\"name\":\"数据源管理\"},{\"id\":108,\"pId\":107,\"name\":\"项目管理\"},{\"id\":111,\"pId\":108,\"name\":\"添加\"},{\"id\":114,\"pId\":109,\"name\":\"添加\"},{\"id\":120,\"pId\":119,\"name\":\"添加\"},{\"id\":128,\"pId\":127,\"name\":\"积分规则\"},{\"id\":129,\"pId\":123,\"name\":\"添加\"},{\"id\":133,\"pId\":128,\"name\":\"添加\"},{\"id\":144,\"pId\":136,\"name\":\"添加\"},{\"id\":150,\"pId\":149,\"name\":\"添加\"},{\"id\":157,\"pId\":155,\"name\":\"添加\"},{\"id\":162,\"pId\":138,\"name\":\"添加\"},{\"id\":167,\"pId\":166,\"name\":\"添加\"},{\"id\":175,\"pId\":280,\"name\":\"默认回复\"},{\"id\":177,\"pId\":176,\"name\":\"添加\"},{\"id\":183,\"pId\":171,\"name\":\"添加\"},{\"id\":186,\"pId\":91,\"name\":\"添加\"},{\"id\":225,\"pId\":99,\"name\":\"SSRS统计分析\"},{\"id\":230,\"pId\":229,\"name\":\"添加\"},{\"id\":234,\"pId\":233,\"name\":\"添加\"},{\"id\":238,\"pId\":227,\"name\":\"查看\"},{\"id\":250,\"pId\":243,\"name\":\"添加\"},{\"id\":251,\"pId\":244,\"name\":\"添加\"},{\"id\":300,\"pId\":299,\"name\":\"添加\"},{\"id\":303,\"pId\":124,\"name\":\"同步用户\"},{\"id\":304,\"pId\":89,\"name\":\"添加\"},{\"id\":307,\"pId\":92,\"name\":\"添加\"},{\"id\":310,\"pId\":173,\"name\":\"添加\"},{\"id\":314,\"pId\":137,\"name\":\"详情\"},{\"id\":316,\"pId\":154,\"name\":\"新建扩展属性\"},{\"id\":318,\"pId\":255,\"name\":\"编辑\"},{\"id\":319,\"pId\":153,\"name\":\"新建筛选器\"},{\"id\":324,\"pId\":323,\"name\":\"添加\"},{\"id\":326,\"pId\":124,\"name\":\"详情\"},{\"id\":330,\"pId\":329,\"name\":\"客户管理\"},{\"id\":331,\"pId\":330,\"name\":\"客户管理\"},{\"id\":349,\"pId\":344,\"name\":\"商品属性种类\"},{\"id\":356,\"pId\":345,\"name\":\"所有商品\"},{\"id\":363,\"pId\":346,\"name\":\"所有管理\"},{\"id\":364,\"pId\":347,\"name\":\"广告位置\"},{\"id\":371,\"pId\":348,\"name\":\"文件上传\"},{\"id\":39,\"pId\":37,\"name\":\"短信模板\"},{\"id\":43,\"pId\":28,\"name\":\"角色管理\"},{\"id\":48,\"pId\":42,\"name\":\"编辑\"},{\"id\":53,\"pId\":36,\"name\":\"编辑\"},{\"id\":58,\"pId\":39,\"name\":\"编辑\"},{\"id\":61,\"pId\":40,\"name\":\"编辑\"},{\"id\":64,\"pId\":41,\"name\":\"编辑\"},{\"id\":67,\"pId\":34,\"name\":\"编辑\"},{\"id\":71,\"pId\":32,\"name\":\"编辑\"},{\"id\":74,\"pId\":43,\"name\":\"编辑\"},{\"id\":78,\"pId\":38,\"name\":\"编辑\"},{\"id\":80,\"pId\":18,\"name\":\"编辑\"},{\"id\":89,\"pId\":280,\"name\":\"关注后回复\"},{\"id\":100,\"pId\":181,\"name\":\"数据集管理\"},{\"id\":105,\"pId\":99,\"name\":\"报表\"},{\"id\":112,\"pId\":108,\"name\":\"编辑\"},{\"id\":115,\"pId\":109,\"name\":\"编辑\"},{\"id\":118,\"pId\":0,\"name\":\"细分管理\"},{\"id\":121,\"pId\":119,\"name\":\"编辑\"},{\"id\":123,\"pId\":107,\"name\":\"api接口管理\"},{\"id\":131,\"pId\":123,\"name\":\"编辑\"},{\"id\":134,\"pId\":128,\"name\":\"编辑\"},{\"id\":145,\"pId\":136,\"name\":\"编辑\"},{\"id\":151,\"pId\":149,\"name\":\"编辑\"},{\"id\":158,\"pId\":155,\"name\":\"编辑\"},{\"id\":163,\"pId\":138,\"name\":\"编辑\"},{\"id\":168,\"pId\":166,\"name\":\"编辑\"},{\"id\":170,\"pId\":169,\"name\":\"调度日志\"},{\"id\":176,\"pId\":127,\"name\":\"等级规则\"},{\"id\":178,\"pId\":176,\"name\":\"编辑\"},{\"id\":184,\"pId\":171,\"name\":\"编辑\"},{\"id\":187,\"pId\":91,\"name\":\"编辑\"},{\"id\":228,\"pId\":227,\"name\":\"同步\"},{\"id\":231,\"pId\":229,\"name\":\"编辑\"},{\"id\":235,\"pId\":233,\"name\":\"编辑\"},{\"id\":240,\"pId\":16,\"name\":\"会员导入日志\"},{\"id\":246,\"pId\":243,\"name\":\"编辑\"},{\"id\":247,\"pId\":244,\"name\":\"编辑\"},{\"id\":301,\"pId\":299,\"name\":\"编辑\"},{\"id\":305,\"pId\":89,\"name\":\"编辑\"},{\"id\":308,\"pId\":92,\"name\":\"编辑\"},{\"id\":311,\"pId\":173,\"name\":\"编辑\"},{\"id\":317,\"pId\":154,\"name\":\"编辑扩展属性\"},{\"id\":320,\"pId\":153,\"name\":\"编辑筛选器\"},{\"id\":325,\"pId\":323,\"name\":\"编辑\"},{\"id\":338,\"pId\":330,\"name\":\"客户优惠券\"},{\"id\":344,\"pId\":329,\"name\":\"商城配置\"},{\"id\":350,\"pId\":344,\"name\":\"商品规格\"},{\"id\":357,\"pId\":345,\"name\":\"商品规格\"},{\"id\":365,\"pId\":347,\"name\":\"广告列表\"},{\"id\":372,\"pId\":348,\"name\":\"地区管理\"},{\"id\":34,\"pId\":20,\"name\":\"事件设置\"},{\"id\":37,\"pId\":0,\"name\":\"模板管理\"},{\"id\":40,\"pId\":37,\"name\":\"微信模板\"},{\"id\":44,\"pId\":28,\"name\":\"组织架构\"},{\"id\":49,\"pId\":42,\"name\":\"删除\"},{\"id\":54,\"pId\":36,\"name\":\"删除\"},{\"id\":59,\"pId\":39,\"name\":\"删除\"},{\"id\":62,\"pId\":40,\"name\":\"删除\"},{\"id\":65,\"pId\":41,\"name\":\"删除\"},{\"id\":68,\"pId\":34,\"name\":\"删除\"},{\"id\":75,\"pId\":43,\"name\":\"删除\"},{\"id\":81,\"pId\":18,\"name\":\"删除\"},{\"id\":92,\"pId\":280,\"name\":\"关键字回复\"},{\"id\":102,\"pId\":181,\"name\":\"图表设计\"},{\"id\":109,\"pId\":107,\"name\":\"api用户管理\"},{\"id\":113,\"pId\":108,\"name\":\"删除\"},{\"id\":116,\"pId\":109,\"name\":\"删除\"},{\"id\":119,\"pId\":118,\"name\":\"自定义标签\"},{\"id\":122,\"pId\":119,\"name\":\"删除\"},{\"id\":132,\"pId\":123,\"name\":\"删除\"},{\"id\":135,\"pId\":128,\"name\":\"删除\"},{\"id\":146,\"pId\":136,\"name\":\"修改触发器状态\"},{\"id\":152,\"pId\":149,\"name\":\"删除\"},{\"id\":164,\"pId\":138,\"name\":\"修改客户旅程状态\"},{\"id\":171,\"pId\":169,\"name\":\"执行器管理\"},{\"id\":179,\"pId\":176,\"name\":\"删除\"},{\"id\":185,\"pId\":171,\"name\":\"删除\"},{\"id\":189,\"pId\":91,\"name\":\"删除\"},{\"id\":236,\"pId\":233,\"name\":\"修改状态\"},{\"id\":237,\"pId\":127,\"name\":\"入会规则\"},{\"id\":248,\"pId\":243,\"name\":\"删除\"},{\"id\":249,\"pId\":244,\"name\":\"删除\"},{\"id\":302,\"pId\":299,\"name\":\"删除\"},{\"id\":306,\"pId\":89,\"name\":\"开启\"},{\"id\":309,\"pId\":92,\"name\":\"修改关键字状态\"},{\"id\":312,\"pId\":173,\"name\":\"删除\"},{\"id\":321,\"pId\":153,\"name\":\"删除筛选器\"},{\"id\":327,\"pId\":323,\"name\":\"发送\"},{\"id\":339,\"pId\":330,\"name\":\"客户收藏\"},{\"id\":345,\"pId\":329,\"name\":\"编辑商品\"},{\"id\":351,\"pId\":344,\"name\":\"商品类型\"},{\"id\":358,\"pId\":345,\"name\":\"产品设置\"},{\"id\":366,\"pId\":347,\"name\":\"优惠券管理\"},{\"id\":373,\"pId\":348,\"name\":\"系统参数\"},{\"id\":20,\"pId\":0,\"name\":\"活动管理\"},{\"id\":35,\"pId\":20,\"name\":\"活动审核\"},{\"id\":41,\"pId\":37,\"name\":\"邮件模板\"},{\"id\":42,\"pId\":28,\"name\":\"用户管理\"},{\"id\":50,\"pId\":42,\"name\":\"角色分配\"},{\"id\":55,\"pId\":32,\"name\":\"提交审核\"},{\"id\":70,\"pId\":18,\"name\":\"详情\"},{\"id\":72,\"pId\":32,\"name\":\"删除\"},{\"id\":76,\"pId\":43,\"name\":\"权限分配\"},{\"id\":103,\"pId\":181,\"name\":\"看板分类\"},{\"id\":106,\"pId\":34,\"name\":\"修改事件状态\"},{\"id\":140,\"pId\":123,\"name\":\"接口详情\"},{\"id\":147,\"pId\":109,\"name\":\"重置密码\"},{\"id\":165,\"pId\":36,\"name\":\"导出\"},{\"id\":253,\"pId\":243,\"name\":\"设置节点\"},{\"id\":313,\"pId\":173,\"name\":\"同步\"},{\"id\":322,\"pId\":153,\"name\":\"导出\"},{\"id\":340,\"pId\":330,\"name\":\"搜索历史\"},{\"id\":346,\"pId\":329,\"name\":\"订单管理\"},{\"id\":352,\"pId\":344,\"name\":\"品牌制造商\"},{\"id\":359,\"pId\":345,\"name\":\"商品满减搭配\"},{\"id\":367,\"pId\":347,\"name\":\"商品满减搭配\"},{\"id\":56,\"pId\":32,\"name\":\"执行\"},{\"id\":86,\"pId\":0,\"name\":\"微信管理\"},{\"id\":97,\"pId\":42,\"name\":\"解除锁定\"},{\"id\":104,\"pId\":181,\"name\":\"看板设计\"},{\"id\":117,\"pId\":34,\"name\":\"测试\"},{\"id\":148,\"pId\":109,\"name\":\"接口分配\"},{\"id\":159,\"pId\":20,\"name\":\"日程管理\"},{\"id\":299,\"pId\":28,\"name\":\"字典管理\"},{\"id\":315,\"pId\":233,\"name\":\"删除\"},{\"id\":341,\"pId\":330,\"name\":\"购物车\"},{\"id\":347,\"pId\":329,\"name\":\"推广管理\"},{\"id\":353,\"pId\":344,\"name\":\"商品问答\"},{\"id\":360,\"pId\":345,\"name\":\"团购设置\"},{\"id\":368,\"pId\":345,\"name\":\"团购设置\"},{\"id\":84,\"pId\":32,\"name\":\"测试\"},{\"id\":98,\"pId\":42,\"name\":\"重置密码\"},{\"id\":342,\"pId\":330,\"name\":\"会员足迹\"},{\"id\":348,\"pId\":329,\"name\":\"文档配置\"},{\"id\":354,\"pId\":344,\"name\":\"反馈\"},{\"id\":361,\"pId\":345,\"name\":\"用户评论\"},{\"id\":369,\"pId\":345,\"name\":\"用户评论\"},{\"id\":343,\"pId\":330,\"name\":\"收获地址管理\"},{\"id\":355,\"pId\":344,\"name\":\"关键词\"},{\"id\":362,\"pId\":345,\"name\":\"商品回收站\"},{\"id\":370,\"pId\":345,\"name\":\"商品回收站\"},{\"id\":380,\"pId\":32,\"name\":\"导出\"},{\"id\":95,\"pId\":281,\"name\":\"二维码设置\"},{\"id\":156,\"pId\":281,\"name\":\"批量二维码设置\"},{\"id\":191,\"pId\":281,\"name\":\"本地素材\"},{\"id\":239,\"pId\":281,\"name\":\"图文管理\"},{\"id\":329,\"pId\":0,\"name\":\"商城管理\"},{\"id\":374,\"pId\":282,\"name\":\"消息群发设置\"},{\"id\":99,\"pId\":0,\"name\":\"统计分析\"},{\"id\":256,\"pId\":282,\"name\":\"消息群发结果\"},{\"id\":280,\"pId\":86,\"name\":\"自动回复\"},{\"id\":127,\"pId\":0,\"name\":\"规则管理\"},{\"id\":28,\"pId\":0,\"name\":\"系统管理\"},{\"id\":181,\"pId\":0,\"name\":\"报表设计\"},{\"id\":107,\"pId\":0,\"name\":\"接口管理\"},{\"id\":169,\"pId\":0,\"name\":\"任务调度中心\"},{\"id\":136,\"pId\":284,\"name\":\"触发器\"},{\"id\":281,\"pId\":86,\"name\":\"素材管理\"},{\"id\":138,\"pId\":284,\"name\":\"客户旅程\"},{\"id\":166,\"pId\":284,\"name\":\"会话管理\"},{\"id\":124,\"pId\":283,\"name\":\"关注用户\"},{\"id\":283,\"pId\":86,\"name\":\"用户管理\"},{\"id\":137,\"pId\":283,\"name\":\"取关用户\"},{\"id\":139,\"pId\":283,\"name\":\"48小时活动列表\"},{\"id\":383,\"pId\":382,\"name\":\"用户增长分析\"},{\"id\":153,\"pId\":283,\"name\":\"筛选器\"},{\"id\":154,\"pId\":283,\"name\":\"用户扩展属性\"},{\"id\":141,\"pId\":283,\"name\":\"消息管理\"},{\"id\":173,\"pId\":285,\"name\":\"公众号标签\"},{\"id\":284,\"pId\":86,\"name\":\"交互设置\"},{\"id\":142,\"pId\":285,\"name\":\"标签分类\"},{\"id\":143,\"pId\":285,\"name\":\"标签管理\"},{\"id\":381,\"pId\":284,\"name\":\"客户旅程分类\"},{\"id\":226,\"pId\":286,\"name\":\"默认菜单\"},{\"id\":160,\"pId\":286,\"name\":\"自定义菜单\"},{\"id\":285,\"pId\":86,\"name\":\"标签管理\"},{\"id\":161,\"pId\":286,\"name\":\"发布列表\"},{\"id\":286,\"pId\":86,\"name\":\"菜单设置\"},{\"id\":287,\"pId\":86,\"name\":\"模板消息管理\"},{\"id\":155,\"pId\":288,\"name\":\"公众号管理\"},{\"id\":282,\"pId\":86,\"name\":\"消息群发管理\"},{\"id\":149,\"pId\":288,\"name\":\"公众号授权\"},{\"id\":227,\"pId\":287,\"name\":\"微信模板\"},{\"id\":229,\"pId\":287,\"name\":\"微信模板内容定制\"},{\"id\":233,\"pId\":288,\"name\":\"动态字段\"},{\"id\":243,\"pId\":290,\"name\":\"筛选器类型\"},{\"id\":323,\"pId\":287,\"name\":\"微信模板消息任务\"},{\"id\":244,\"pId\":290,\"name\":\"筛选器数据源\"},{\"id\":255,\"pId\":290,\"name\":\"筛选器条件映射\"},{\"id\":290,\"pId\":86,\"name\":\"筛选器设置\"},{\"id\":379,\"pId\":288,\"name\":\"场景管理\"},{\"id\":288,\"pId\":86,\"name\":\"基础信息设置\"},{\"id\":382,\"pId\":86,\"name\":\"数据分析\"}]}";

  public static void main(String[] args) {
    JsonRootBean bean= JSON.parseObject(tree,JsonRootBean.class);
    List<MenuTree> list=new ArrayList();
    List<Map<String,Object>> resultlist=new ArrayList();
    list=bean.getMenuTree();
    //System.out.println(JSON.toJSON(list.get(0)));
    resultlist=TreeService.getChildList(list,0,resultlist);
    System.out.println(resultlist.size());
    System.out.println(JSON.toJSON(resultlist));
//    for (MenuTree testEntity : resultlist) {
//      String s = "";
//
//
//      //System.out.println(s+"I____"+testEntity.getName());
//    }
  }
}
